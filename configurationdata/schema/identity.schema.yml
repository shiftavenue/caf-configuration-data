$schema: https://json-schema.org/draft-07/schema#
$id: https://shiftavenue.com/cafidentity
title: CAF Identity Configuration
description: Identity configuration for the Cloud Adoption Framework
type: object
properties:
  settings:
    type: object
    properties:
      identity:
        type: object
        properties:
          enabled:
            type: boolean
          config:
            type: object
            properties:
              enable_deny_public_ip:
                type: boolean
              enable_deny_rdp_from_internet:
                type: boolean
              enable_deny_subnet_without_nsg:
                type: boolean
              enable_deploy_azure_backup_on_vms:
                type: boolean
  location:
    type: string
  tags:
    description: Tags for the product
    properties:
      application_name:
        type: string
        minLength: 1
      psa:
        type: string
        minLength: 1
        maxLength: 6
      org:
        type: string
        minLength: 1
        maxLength: 4
      system_owner:
        type: string
        minLength: 1
      system_responsible:
        type: string
        minLength: 1
      system_responsible_deputy:
        type: string
        minLength: 1
      cost_center:
        type: integer
        minimum: 0
      env:
        type: string
        minLength: 1
        maxLength: 1
        enum:
          - p
          - t
          - s
          - d
      start_date:
        type:
          - string
          - "null"
        format: date-time
      end_date:
        type:
          - string
          - "null"
        format: date-time
      information_classification:
        type: string
        minLength: 1
      personal_data:
        type: string
        enum:
          - "yes"
          - "no"
      licence_os:
        type: string
        enum:
          - "hub"
          - "byol"
          - "payg"
      licence_app:
        type: string
        enum:
          - "hub"
          - "byol"
          - "payg"
      reserved_instance:
        type: string
        enum:
          - "yes"
          - "no"
      reserved_capacity:
        type: string
        enum:
          - "yes"
          - "no"
    required:
      - application_name
      - psa
      - org
      - system_owner
      - system_responsible
      - system_responsible_deputy
      - cost_center
      - env
      - start_date
      - information_classification
      - personal_data
      - reserved_instance
      - reserved_capacity
required:
  - settings
  - location
  - tags
